# Telegram parser

## Предварительные требования

- Установленный интерпретатор [Python](https://www.python.org/downloads/)

## Инструкция по запуску:

1. Склонировать репозиторий и перейти в директорию проекта:
    ```
    git clone <Repository_URL>
    cd ./telegram_parser
    ```
2. Создать виртуальное окружение командой `python -m venv venv`
3. Активировать виртуальное окружение командой `venv\Scripts\activate` для Windows и `source venv/bin/activate` для macOS и Linux
4. Установить необходимые зависимости командой `pip install -r requirements.txt` 
5. Получить данные для доступа к Telegram API. Для этого:

   **Внимание! Отключите VPN перед выполнением следующих шагов**

   * Перейти на страницу https://my.telegram.org и войти в свою учетную запись Telegram, указав номер телефона учетной записи разработчика.
   ![](https://services.kontur.ru/Files/Modules/Article/50332i/4c3daba2-7c18-46bd-859d-4d41cd3230b3.png?t=1716811271)
   * Далее нужно нажать "API Development Tools": появится окно "Create new application". Заполните данные нового приложения. Нет необходимости вводить какой-либо URL-адрес, позже можно изменить только первые два поля (название приложения и краткое имя).
   ![](https://services.kontur.ru/Files/Modules/Article/50332i/f82ad291-e520-40ec-8b3e-a9be1df6740e.png?t=1716811283)
   * В конце нажмите "Create application". **Помните, что ваш хэш API является секретным, и Telegram не позволит вам его отозвать. Никуда его не публикуйте и никому не передавайте!**
   ![](https://services.kontur.ru/Files/Modules/Article/50332i/7223513c-e4e8-42af-b9ec-ffec3ddaed57.png?t=1716811289&nbsp;)
6. Создать `.env` файл в корне проекта со следующим содержанием:
    ```
    API_ID=
    API_HASH=
    PHONE=
    PASSWORD=
    CHANNEL_LINK=
    ```
   На место соответствующих значений вставьте свои данные: полученные на предыдущем шаге (со страницы https://my.telegram.org/apps) api_id и api_hash, номер телефона (который вводили на предыдущем шаге), пароль (если у вашего Telegram аккаунта включена 2FA, если нет, то эту строчку можно не писать) и ссылку на необходимый Telegram-канал.
7. Запустить скрипт с помощью команды `python main.py`

При запуске скрипта Telegram пришлёт код для подтверждения входа в аккаунт, который будет необходимо ввести. После парсинга вся информация о постах в канале сохраниться в файл `channel_posts.csv` и комментариях к постам в файл `channel_comments.csv`(можно поменять название файлов в коде) в папке проекта.